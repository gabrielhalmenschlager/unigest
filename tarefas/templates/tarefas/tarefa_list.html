{% extends 'base.html' %}
{% block title %}Tarefas - Unigest{% endblock %}

{% block content %}
<h2>Tarefas</h2>

<a href="{% url 'tarefas:tarefa-create' %}" class="btn btn-success mb-3">Nova Tarefa</a>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Título</th>
      <th>Responsável</th>
      <th>Projeto</th>
      <th>Prazo</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for tarefa in tarefas %}
    <tr>
      <td>{{ tarefa.titulo }}</td>
      <td>{{ tarefa.responsavel }}</td>
      <td>{{ tarefa.projeto.nome }}</td>
      <td>{{ tarefa.prazo }}</td>
      <td>{{ tarefa.get_status_display }}</td>
      <td>
        <a href="{% url 'tarefas:tarefa-update' tarefa.pk %}" class="btn btn-sm btn-primary">Editar</a>
        <a href="{% url 'tarefas:tarefa-delete' tarefa.pk %}" class="btn btn-sm btn-danger">Excluir</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6" class="text-center">Nenhuma tarefa cadastrada.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
